@model List<Book>
@{
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <title>Books and Reviews</title>
</head>
<body>
    <h1>Books and Reviews</h1>
    <h2>Site Stats:</h2>
    <h3>Newest Book: <i>@ViewData["newestBook"]</i></h3>
    <h3>Number of Books: @ViewBag.bookCount</h3>
    <h2>Book List</h2>
    @foreach (Book book in Model)
    {
        <h3><i> @book.Title </i></h3>
        @book.Authors[0].Name; <br />
        @book.PubDate; <br />
        <br />
        @if (book.Reviews.Count > 0)
        {
            <h4>Reviews</h4>
            @foreach (Review r in book.Reviews)
            {
                @r.ReviewText <br />
            }
            <br />
        }
        string url = "AddReview" + "?title=" + @book.Title;
        <a href="@url">Add a review</a>
    }

    <br />
    <nav>
        <br />
        <a href="AddBook">Add a book</a><br />
        <a href="/Home">Home</a>
    </nav>
</body>
</html>

@* Note: You can use tag helpers to do the same thing I did in
    HTML in the link for AddReview:
    <a asp-action="AddReview" asp-route-title="@b.Title">Add a review</a>

    The URL generated by this link will look like this:
    /Book/AddReview?title=The%20Fellowship%20of%20the%20Ring
*@
